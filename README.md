# es6condition.js

Simple, dependency-free Condition Variables for ES6 event synchronization.

## INSTALLATION

```
npm install @debonet/es6condition
```

### OVERVIEW

es6condition provides a Promises-based condition object for
synchronizing events by allowing an event to wait on a signal before proceeding

## TYPICAL USAGE 

`wait()`, `signal()`, and `broadcast()` have the typical Condition Variable semantics
and can be used as `Promises` or with `async/await` syntax, e.g.:

### signal 

`signal()` releases the first event that is waiting on the Condition. Here's an example:

```javascript
	const cond = new Condition();

	setTimeout(	() => {
		console.log("Hello,");
		cond.signal();
	}, 100);

	// wait until a signal is sent
	await cond.wait();
	
	console.log("World");

```

and generate an output:
> Hello, <br/>
> World


### broadcast

`broadcast()` releases the first event that is waiting on the Condition. Here's an example:


```javascript
const cond = new Condition();

setImmediate(async () => {
	cond.wait().then(() => { console.log("Myself," )});
});

setImmediate(async () => {
	await cond.wait();
	console.log("and I");
});

setImmediate(async () => {
	cond.broadcast();
	console.log("Me,");
});
```

and generate an output:
> Me, <br/>
> Myself, <br/>
> and I


# Condition member functions

### `wait()`
### `fpWait()`

Waits until a signal has been received. Technically speaking it returns a promise that resolves when a `signal()` on the condition variable has been received
 
### `signal()`
### `release()`
### `fSignal()`
### `fRelease()`

Sends a signal to the first event waiting on the condition variable. Technically speaking, it resolves the promise generated by the call to `wait()`

### `broadcast()`
### `signalAll()`
### `releaseAll()`
### `fSignalAll()`
### `fReleaseAll()`
### `fBroadcast()`

Sends a signal to every event waiting on the condition variable. Technically speaking, it resolves the promise generated by the call to `wait()`


## APPENDIX

definition of `sleep()` used in the example above

```javascript
	function sleep( dtm ){
		return new Promise( fOk => setTimeout( fOk, dtm ));
	}
```

